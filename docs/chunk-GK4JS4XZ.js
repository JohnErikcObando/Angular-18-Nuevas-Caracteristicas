import{Aa as b,Ba as I,C as g,Cb as w,Db as D,Eb as o,Fb as a,Fc as k,Gb as E,Hb as P,K as v,Kb as s,Mb as q,Ub as d,Vb as f,Wa as u,Wb as F,Y as _,_b as l,a as y,b as h,hb as S,ja as p,qc as T,sa as x,ta as C,xb as Q}from"./chunk-BZ3MJM35.js";var M=(()=>{let t=class t{constructor(){this.product=I.required({}),this.onIncrementQuantity=b(),this.logginEffect=T(()=>{console.log(this.product().name)})}incrementQuantity(){this.onIncrementQuantity.emit(this.product().quantity+1)}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p({type:t,selectors:[["app-product-card"]],inputs:{product:[1,"product"]},outputs:{onIncrementQuantity:"onIncrementQuantity"},standalone:!0,features:[l],decls:7,vars:3,consts:[[1,"bg-state-200","w-full","rounded-xl","h-40","flex","justify-center","items-center","flex-col"],[1,"font-bold","text-sm","my-2"],[1,"bg-blue-500","p-2","rounded","text-white","hover:bg-blue-600","transition-all",3,"click"]],template:function(e,r){e&1&&(o(0,"div",0)(1,"span"),d(2),a(),o(3,"h2",1),d(4),a(),o(5,"button",2),s("click",function(){return r.incrementQuantity()}),d(6),a()()),e&2&&(u(2),f(r.product().name),u(2),f(r.product().id),u(2),F(" Cantidad ",r.product().quantity," "))}});let n=t;return n})();var O=(n,t)=>t.id;function V(n,t){if(n&1){let m=P();o(0,"app-product-card",4),s("onIncrementQuantity",function(e){let r=x(m).$implicit,c=q();return C(c.updateProdcut(r,e))}),a()}if(n&2){let m=t.$implicit;Q("product",m)}}var N=(()=>{let t=class t{constructor(){this.products=S([{id:1,name:"Product 1",quantity:0},{id:2,name:"Product 2",quantity:0}]),this.intervalSubcription=g(1e3).pipe(_(()=>{this.products.update(i=>[...i,{id:i.length+1,name:`Product ${i.length+1}`,quantity:0}])}),v(7)).subscribe()}ngOnDestroy(){this.intervalSubcription.unsubscribe()}updateProdcut(i,e){this.products.update(r=>r.map(c=>c.id===i.id?h(y({},c),{quantity:e}):c))}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p({type:t,selectors:[["app-input-output"]],standalone:!0,features:[l],decls:6,vars:0,consts:[[1,"text-3xl"],[1,"my-2"],[1,"grid","grid-cols-1","sm:grid-cols-3","grap-2"],[3,"product"],[3,"onIncrementQuantity","product"]],template:function(e,r){e&1&&(o(0,"h1",0),d(1,"Listado de productos"),a(),E(2,"hr",1),o(3,"div",2),w(4,V,1,1,"app-product-card",3,O),a()),e&2&&(u(4),D(r.products()))},dependencies:[k,M],changeDetection:0});let n=t;return n})();export{N as default};
